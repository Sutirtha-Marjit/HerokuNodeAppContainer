
<header class="super-header">
<nav>
  <div class="col logo-container"><img src="./assets/images/hulk.png"/></div>
  <div class="col"><h2>Hulk Image Downloader</h2></div>
  <div class="col">
      <button mat-button [matMenuTriggerFor]="menu">Menu</button> &nbsp;
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="setDefaultValue()">Clean up</button>        
        <button mat-menu-item>Report</button>
        <button mat-menu-item>Storage</button>
      </mat-menu>
      <button mat-button [matMenuTriggerFor]="zipMenu">Zips</button> &nbsp;
      <mat-menu #zipMenu="matMenu">
        <a mat-menu-item *ngFor="let item of zipData" target="_blank" href="{{item.url}}">
          <strong>{{item.name}}</strong> &nbsp; 
          <small>{{item.time | date:'shortTime'}}</small>
        </a>
      </mat-menu>
    <mat-slide-toggle [checked]="consoleOpen" (change)="toggleConsoleOpen($event)">Console</mat-slide-toggle>  &nbsp;
    <button (click)="populateImageList()" *ngIf="this.frmGroup.value.segmentOne.length>0" mat-button>Load</button> &nbsp;
    <button (click)="zipRequest()" *ngIf="this.selectionList.length>0 && !zipProgress" mat-button>Create a zip</button>   
    <span *ngIf="zipProgress"><img style="width:40px; height:auto;" src="./assets/images/small-preloader.gif"/></span>
  </div>
</nav>
</header>

<div>

  <div class="objectWrap" *ngIf="consoleOpen">
    <section class="main-form">
        <form [formGroup]="frmGroup">
            <mat-form-field style="width:100%">
                <input formControlName="mainURL" matInput placeholder="Main url"/>
            </mat-form-field>
            <mat-form-field style="width:70%">
                <input formControlName="segmentOne" matInput placeholder="Segment one"/>
            </mat-form-field>
            <mat-form-field style="width:30%">
                <input formControlName="segmentTwo" matInput placeholder="Segment two"/>
            </mat-form-field>
            <mat-form-field>
                <input type="number" formControlName="startIndex" matInput placeholder="Start"/>
            </mat-form-field>
            <mat-form-field>
                <input type="number" formControlName="endIndex" matInput placeholder="End"/>
            </mat-form-field>
            <mat-checkbox formControlName="startWithZero">Starts with Zero</mat-checkbox>
        </form> 
        
        <div>
            <app-broke-text [url]="url" (urlSegmentDone)="setSegments($event)"></app-broke-text>
        </div>
    </section>
  </div>
</div>
<router-outlet (activate)="routeComplete($event)"></router-outlet>

<footer>

</footer>

